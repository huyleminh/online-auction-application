<body>
    <div class="containner containner-login h-100">
        <div class="row align-items-center justify-content-center h-100">
            <div class="col-xl-8 col-lg-10 col-md-9 justify-content-center row login-wrapper">
                <div class="col-lg-6 col-md-10 ps-lg-5 pe-lg-5 login-form">
                    <h2 class="text-center mb-3">Đăng nhập</h3>
                    <form action="/login" method="post" id="loginForm" class="">
                        <div class="form-outline mb-4">
                            <i class="fas fa-user trailing"></i>
                            <input
                                type="text"
                                id="username"
                                name="username"
                                class="form-control form-control-lg form-icon-trailing"
                                autofocus
                                required
                            />
                            <label class="form-label" for="username">Tên đăng nhập</label>
                        </div>
                        <div class="form-outline mb-4">
                            <i class="fas fa-lock trailing"></i>
                            <input
                                type="password"
                                id="password"
                                name="password"
                                class="form-control form-control-lg form-icon-trailing"
                                required
                            />
                            <label class="form-label" for="password">Mật khẩu</label>
                        </div>
                        <div class="alert alert-danger d-none" id="loginAlert"></div>

                        <div class="row mb-4">
                            <div class="col">
                                <a href="/forget-pwd">Quên mật khẩu?</a>
                            </div>
                        </div>

                        <div class="row"><button type="submit" class="btn btn-primary btn-lg col" style="margin: 0px 12px;">Đăng nhập</button></div>

                        <div class="divider mt-4 mb-4">
                            <span class="text-center">Hoặc</span>
                        </div>

                        <a role="button" href="/login/google" type="button" class="btn btn-block btn-lg" style="background-color: #dd4b39; color: #fff;">
                            <i class="fab fa-google me-1"></i>
                            Đăng nhập với google
                        </a>

                        <p class="mt-4 mb-4 text-center">Chưa là thành viên? <a href="/signup">Đăng kí tại đây</a></p>
                        <p class="mt-4 mb-4 text-center home-navigation">
                            <a href="/" class="btn btn-info">
                                <i class="fas fa-arrow-left me-1"></i>
                                Trang chủ
                            </a>
                        </p>

                    </form>
                </div>

                <div class="col-lg-6 d-none d-lg-block login-image"></div>
            </div>

        </div>
    </div>
</body>

{{#section "js"}}
    <script>
        document.querySelectorAll('.form-outline').forEach((formOutline) => {
            new mdb.Input(formOutline).init();
        });

        {{!-- Submit action --}}
        $("#loginForm").on("submit", function(e) {
            e.preventDefault();

            const username = $("#username");
            if (!username.val() || !username.val().trim()) {
                $("#loginAlert").removeClass("d-none");
                $("#loginAlert").html("Tên đăng nhập không được bỏ trống");
                return;
            }
            $("#loginAlert").addClass("d-none");

            const password = $("#password");
            if (!password.val() || !password.val().trim()) {
                $("#loginAlert").removeClass("d-none");
                $("#loginAlert").html("Mật khẩu không được bỏ trống");
                return;
            }
            $("#loginAlert").addClass("d-none");

            $("#loginForm").off("submit").submit();
        })
    </script>
{{/section}}
